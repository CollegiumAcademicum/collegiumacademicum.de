<div id='ca-map'></div>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiY29sbGVnaXVtYWNhZGVtaWN1bSIsImEiOiJjamdwZGFreWMwMzNiMzNvZmloZWs3eHNxIn0.ClXp6n8qltuq-IO9cUnsqw';
    var map = new mapboxgl.Map({
        container: 'ca-map',
        center: [{{ .Get "long"}}, {{ .Get "lat"}}],
        zoom: {{ .Get "zoom" }},
        bearing: {{ with .Get "bearing" }}{{.}}{{else}}0{{end}},
        pitch: {{ with .Get "pitch" }}{{.}}{{else}}0{{end}},
        style: 'mapbox://styles/collegiumacademicum/cjh3tor1j2nha2rp86mehjslm'
    });
    map.on("load", function () {
        var el = document.createElement('div');
        el.className = 'marker';
        new mapboxgl.Marker(el)
        .setLngLat([{{ $.Site.Params.Hospital.longitude }},{{ $.Site.Params.Hospital.latitude}}])
        .addTo(map);
    });
</script>
